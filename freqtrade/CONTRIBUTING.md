# 貢献

## freqtradeへの貢献

ボットに機能が欠けていると感じますか？プルリクエストを歓迎します！

[good first issue](https://github.com/freqtrade/freqtrade/labels/good%20first%20issue)とラベル付けされたissueは、良い最初の貢献になり、コードベースに慣れるのに役立ちます。

貢献のためのいくつかのポイント:

- `stable`ではなく、`develop`ブランチに対してPRを作成してください。
- コミットメッセージ、PR説明、コードコメント、変数名はすべて英語で統一してください。
- 新機能にはユニットテストが必要で、CIに合格し（早期フィードバックを得るためにpre-commitとpytestを実行）、導入PRでドキュメント化する必要があります。
- PRはドラフトとして宣言できます - プルリクエスト（完成していない）の作業中を示します。ドラフトPRに対してもタイムリーにフィードバックを提供することを目指します。
- PRにAIを使用している場合は、PR説明で言及し、生成されたコードを徹底的にレビューしてください。コードの最終責任はAIではなくPR作成者にあります。

不確かな場合は、プルリクエストの前に[discordサーバー](https://discord.gg/p7nuUNVfP7)または[issue](https://github.com/freqtrade/freqtrade/issues)で機能について議論してください。

## はじめに

まず[ドキュメント](https://www.freqtrade.io/)を読んで、ボットで何ができるかを感じ取るか、開始に役立つ[開発者向けドキュメント](https://www.freqtrade.io/en/latest/developer/)（WIP）に直接向かってください。

## PRを送信する前に

### 1. ユニットテストを実行

すべてのユニットテストに合格する必要があります。ユニットテストが壊れている場合は、合格するようにコードを変更してください。これは回帰を導入したことを意味します。

#### プロジェクト全体をテスト

```bash
pytest
```

#### 1つのファイルのみをテスト

```bash
pytest tests/test_<file_name>.py
```

#### 1つのファイルから1つのメソッドのみをテスト

```bash
pytest tests/test_<file_name>.py::test_<method_name>
```

### 2. コードがスタイルガイドに対応しているかテスト

予備的なCIチェックに失敗する多くのコードを受け取ります。
これを支援するために、貢献者にgit pre-commitフックをインストールすることを推奨します。これにより、これらのチェックに失敗するコードをコミットしようとするとすぐに通知されます。

`pre-commit run -a`を使用して手動でpre-commitを実行できます - または`pre-commit install`でgitフックをインストールして、各コミットで自動的に実行されるようにできます。

`pre-commit run -a`を実行すると、`ruff`、`mypy`、`codespell`（その他）を含むすべてのチェックが実行されます。

#### 適用される追加スタイル

- すべてのパブリックメソッドにdocstringを付ける
- docstringには二重引用符を使用
- 複数行のdocstringは最初の引用符のレベルにインデントする
- Doc-stringsはreST形式に従う（`:param xxx: ...`、`:return: ...`、`:raises KeyError: ...`）

#### 個別のチェックを手動で実行

以下のセクションでは、pre-commitフックの一部として実行される個別のチェックの実行方法を説明します。

##### ruffを実行

ruffでコードをチェックして、スタイルガイドに従っていることを確認します。

```bash
ruff check .
ruff format .
```

##### mypyを実行

mypyでコードをチェックして、型ヒントルールに従っていることを確認します。

``` bash
mypy freqtrade
```

## （コア）コミッターガイド

### プロセス: プルリクエスト

プルリクエストの優先順位付け方法、最も重要なものから順に:

1. 壊れたテストの修正。壊れたとは、サポートされているプラットフォームまたはPythonバージョンで壊れていることを意味します。
1. コーナーケースをカバーする追加のテスト。
1. ドキュメントの軽微な編集。
1. バグ修正。
1. ドキュメントの主要な編集。
1. 機能。

各プルリクエストが貢献ドキュメントのすべての要件を満たしていることを確認してください。

### プロセス: Issue

issueが緊急の修正が必要なバグである場合は、次のパッチリリースのためにマークを付けます。
その後、修正するか、please-helpとしてマークします。

その他のissueについて: フレンドリーな議論を奨励し、議論を調整し、あなたの考えを提供します。

### プロセス: 自分のコード変更

すべてのコード変更は、誰が行ったかに関係なく、他の誰かによってレビューおよびマージされる必要があります。
このルールは、すべてのコアコミッターに適用されます。

例外:

- 他の人が提出したプルリクエストに対する軽微な修正と修正。
- 正式なリリースを行う際、リリースマネージャーは必要で適切な変更を行うことができます。
- 既存の主題を強化する小さなドキュメントの変更。最も一般的なのは、スペルと文法の修正ですが、これらに限定されません。

### 責任

- 受け入れられるすべての変更のクロスプラットフォーム互換性を確保します。Windows、Mac、Linux。
- 悪意のあるコードがコアコードに導入されないようにします。
- 行いたい主要な変更や機能強化のためにissueを作成します。物事を透明に議論し、コミュニティのフィードバックを得ます。
- 機能PRをできるだけ小さく保ち、できればPRごとに1つの新機能にします。
- 新参者を歓迎し、あらゆる背景から多様な新しい貢献者を奨励します。Pythonコミュニティ行動規範（https://www.python.org/psf/codeofconduct/）を参照してください。

### コミッターになる

貢献者にコミット権限が与えられる場合があります。優先されるのは以下を持つ人です:

1. Freqtradeおよびその他の関連オープンソースプロジェクトへの過去の貢献。Freqtradeへの貢献には、コード（受け入れられたものと保留中の両方）とissueトラッカーおよびプルリクエストレビューでのフレンドリーな参加の両方が含まれます。量と質の両方が考慮されます。
1. 他のコアコミッターがシンプル、最小限、クリーンだと思うコーディングスタイル。
1. クロスプラットフォーム開発とテストのためのリソースへのアクセス。
1. プロジェクトに定期的に費やす時間。

コミッターであることは、セキュリティ上の理由から（ユーザーはFreqtradeに取引所APIキーを信頼しています）、`develop`または`stable`への書き込み権限を自動的に付与するものではありません。

しばらくコミッターを務めた後、コミッターはコアコミッターに指名され、完全なリポジトリアクセスが与えられる場合があります。
